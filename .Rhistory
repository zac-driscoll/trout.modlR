y = "Biomass (x 1,000 lb)",
title = gtitle) +
#scale color, axis, and linetype
ggplot2::scale_colour_manual(
"",
values = c("biomass" = "black", "spbiomass" = "black"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::scale_x_continuous(breaks = seq(min(years), max(years), 5)) +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "spbiomass" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::scale_x_continuous(breaks = seq(min(years), max(years), 5)) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
#set theme
ggplot2::theme_bw() +
format_axis(1) +
format_legend("top")
ggplot2::ggplot(data = bio,
ggplot2::aes(
y = result,
x = year,
color = data_type,
linetype = data_type,
group = data_type)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "sp_bio" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::guides(
colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
ggplot2::theme_bw() +
ggplot2::scale_x_continuous(breaks = seq(min(year), max(year), 5)) +
format_axis(1) +
format_legend("top")
bio
ggplot2::ggplot(data = bio,
ggplot2::aes(
y = result,
x = year,
color = data_type,
linetype = data_type,
group = data_type)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "sp_bio" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::guides(
colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
ggplot2::theme_bw() +
ggplot2::scale_x_continuous(
breaks = seq(min(bio$year), max(bio$year), 5)) +
format_axis(1) +
format_legend("top")
min(bio$year)
bio
bio <- get_biomass_data(gb_wf_ar)
ggplot2::ggplot(data = bio,
ggplot2::aes(
y = result,
x = year,
color = data_type,
linetype = data_type,
group = data_type)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "sp_bio" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::guides(
colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
ggplot2::theme_bw() +
ggplot2::scale_x_continuous(
breaks = seq(min(bio$year), max(bio$year), 5)) +
format_axis(1) +
format_legend("top")
bio
devtools::load_all()
bio <- get_biomass_data(gb_wf_ar)
ggplot2::ggplot(data = bio,
ggplot2::aes(
y = result,
x = year,
color = data_type,
linetype = data_type,
group = data_type)) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "sp_bio" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::guides(
colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
ggplot2::theme_bw() +
ggplot2::scale_x_continuous(
breaks = seq(min(bio$year), max(bio$year), 5)) +
format_axis(1) +
format_legend("top")
ggplot2::ggplot(
data = bio,
ggplot2::aes(
y = result,
x = year,
color = data_type,
linetype = data_type,
group = data_type
)
) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "sp_bio" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
ggplot2::scale_colour_manual(
"",
values = c("biomass" = "black", "spbiomass" = "black"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::theme_bw() +
ggplot2::scale_x_continuous(breaks = seq(min(bio$year), max(bio$year), 5)) +
format_axis(1) +
format_legend("top")
ggplot2::ggplot(
data = bio,
ggplot2::aes(
y = result,
x = year,
color = data_type,
linetype = data_type,
group = data_type
)
) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "sp_bio" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
ggplot2::scale_colour_manual(
"",
values = c("biomass" = "black", "spbiomass" = "black"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::theme_bw() +
ggplot2::scale_x_continuous(breaks = seq(min(bio$year), max(bio$year), 5)) +
format_axis(1) +
format_legend("top") +
ggplot2::ylim(0, ymax) +
ggplot2::labs(x = "Year",
y = "Biomass (x 1,000 lb)",
title = gtitle)
bio$result
max(bio$result)
bio
ymax <-  max(bio$result)
ymax
ggplot2::ggplot(
data = bio,
ggplot2::aes(
y = result,
x = year,
color = data_type,
linetype = data_type,
group = data_type
)
) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "sp_bio" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
ggplot2::scale_colour_manual(
"",
values = c("biomass" = "black", "spbiomass" = "black"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::theme_bw() +
ggplot2::scale_x_continuous(breaks = seq(min(bio$year), max(bio$year), 5)) +
format_axis(1) +
format_legend("top") +
ggplot2::ylim(0, ymax) +
ggplot2::labs(x = "Year",
y = "Biomass (x 1,000 lb)",
title = gtitle)
gtitle <- "fart"
ggplot2::ggplot(
data = bio,
ggplot2::aes(
y = result,
x = year,
color = data_type,
linetype = data_type,
group = data_type
)
) +
ggplot2::geom_line() +
ggplot2::geom_point() +
ggplot2::scale_linetype_manual(
"",
values = c("biomass" = "solid", "sp_bio" = "dashed"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::guides(colour = ggplot2::guide_legend(override.aes = list(shape = c(16, 1)))) +
ggplot2::scale_colour_manual(
"",
values = c("biomass" = "black", "spbiomass" = "black"),
labels = c("Total", "Female Spawning Stock")
) +
ggplot2::theme_bw() +
ggplot2::scale_x_continuous(breaks = seq(min(bio$year), max(bio$year), 5)) +
format_axis(1) +
format_legend("top") +
ggplot2::ylim(0, ymax) +
ggplot2::labs(x = "Year",
y = "Biomass (x 1,000 lb)",
title = gtitle)
devtools::load_all()
make_bmsPlot(dat = gb_wf_ar)
devtools::load_all()
make_bmsPlot(dat = gb_wf_ar)
make_bmsPlot(dat = gb_wf_ar,plotly_plot = TRUE)
get_biomass_data(gb_wf_ar)
purrr::map_df(
list(gb_wf_ar,
gb_wn_ar))
purrr::map_df(
.x = list(gb_wf_ar,
gb_wn_ar),
.f = get_biomass_data(.x)
)
purrr::map_df(
.x = list(gb_wf_ar,
gb_wn_ar),
.f = ~get_biomass_data(.x))
make_bmsPlots2 <- function(dat1,dat2,dat3 = NULL){
get_biomass_data(gb_wf_ar)
bio_dat <- list(df1,df2,df3)
purrr::map_df(
.x = bio_dat,
.f = ~get_biomass_data(.x))
}
make_bmsPlots2(gb_wf_ar,gb_wn_ar)
make_bmsPlots2 <- function(dat1,dat2,dat3 = NULL){
get_biomass_data(gb_wf_ar)
bio_dat <- list(dat1,dat2,dat3)
purrr::map_df(
.x = bio_dat,
.f = ~get_biomass_data(.x))
}
make_bmsPlots2(gb_wf_ar,gb_wn_ar)
make_bmsPlots2(gb_wf_ar,gb_wn_ar)
purrr::map_df(
.x = list(gb_wf_ar,gb_wn_ar),
.f = ~get_biomass_data(.x))
make_bmsPlots2(gb_wf_ar,gb_wn_ar)
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
View(zz)
list(1,2,4)
list(1,2,4) %>% length()
make_bmsPlots2 <- function(dat1,dat2,dat3 = NULL){
bio_dat <- list(dat1,dat2,dat3)
purrr::map_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f = ~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
}
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
source('~/.active-rstudio-document', echo=TRUE)
purrr::map_df(
.x = list(gb_wf_ar,gb_wn_ar),
.y = 1:length(bio_dat),
.f =
~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
list(gb_wf_ar,gb_wn_ar)
purrr::map_df(
.x = bio_dat,
.y = 1:length(bio_dat)
.f =
~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
bio_dat <- list(gb_wf_ar,gb_wn_ar)
purrr::map_df(
.x = bio_dat,
.y = 1:length(bio_dat)
.f =
~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
purrr::map_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
1:length(bio_dat)
bio_dat <- list(gb_wf_ar,gb_wn_ar)
get_biomass_data(bio_dat)
get_biomass_data(bio_dat[[1]])
get_biomass_data(bio_dat[[2])
get_biomass_data(bio_dat[[2]])
get_biomass_data(bio_dat[[1]])
purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
make_bmsPlots2 <- function(dat1,dat2,dat3 = NULL){
bio_dat <- list(dat1,dat2,dat3)
purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
}
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
View(zz)
bio_dat <- list(gb_wf_ar,gb_wn_ar,NULL)
bio_dat
is.null(bio_dat)
bio_dat <- list(gb_wf_ar,gb_wn_ar,NULL)
bio_dat
is.null(bio_dat)
bio_dat <- list(gb_wf_ar,gb_wn_ar,NULL)
devtools::load_all()
devtools::load_all()
bio_dat <- list(gb_wf_ar,gb_wn_ar,NULL)
bio_dat[lengths(bio_dat) != 0]
bio_dat <- bio_dat[lengths(bio_dat) != 0]
purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_",.y))
)
make_bmsPlots2 <- function(dat1, dat2, dat3 = NULL) {
#get data
bio_dat <- list(dat1, dat2, dat3)
bio_dat <- bio_dat[lengths(bio_dat) != 0]
purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~ get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_", .y))
)
#plot data
ggplot2::ggplot(data = bio_dat,
ggplot2::aes(
x = year,
y = result)) +
ggplot2::geom_point() +
ggplot2::geom_line() +
ggplot2::facet_wrap(data_type)
}
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
make_bmsPlots2 <- function(dat1, dat2, dat3 = NULL) {
#get data
bio_dat <- list(dat1, dat2, dat3)
bio_dat <- bio_dat[lengths(bio_dat) != 0]
bio_dat <- purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~ get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_", .y))
)
#plot data
ggplot2::ggplot(data = map2_df,
ggplot2::aes(
x = year,
y = result)) +
ggplot2::geom_point() +
ggplot2::geom_line() +
ggplot2::facet_wrap(data_type)
}
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
make_bmsPlots2 <- function(dat1, dat2, dat3 = NULL) {
#get data
bio_dat <- list(dat1, dat2, dat3)
bio_dat <- bio_dat[lengths(bio_dat) != 0]
bio_dat <- purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~ get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_", .y))
)
#plot data
ggplot2::ggplot(data = bio_dat,
ggplot2::aes(
x = year,
y = result)) +
ggplot2::geom_point() +
ggplot2::geom_line() +
ggplot2::facet_wrap(data_type)
}
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
make_bmsPlots2 <- function(dat1, dat2, dat3 = NULL) {
#get data
bio_dat <- list(dat1, dat2, dat3)
bio_dat <- bio_dat[lengths(bio_dat) != 0]
bio_dat <- purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~ get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_", .y))
)
#plot data
ggplot2::ggplot(data = bio_dat,
ggplot2::aes(
x = year,
y = result)) +
ggplot2::geom_point() +
ggplot2::geom_line() +
ggplot2::facet_wrap(~data_type)
}
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
zz
make_bmsPlots2 <- function(dat1, dat2, dat3 = NULL) {
#get data
bio_dat <- list(dat1, dat2, dat3)
bio_dat <- bio_dat[lengths(bio_dat) != 0]
bio_dat <- purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~ get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_", .y))
)
#plot data
ggplot2::ggplot(data = bio_dat,
ggplot2::aes(
x = year,
y = result,
color = model,
linetype = model)) +
ggplot2::geom_point() +
ggplot2::geom_line() +
ggplot2::facet_wrap(~data_type)
}
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
zz
make_bmsPlots2 <- function(dat1, dat2, dat3 = NULL) {
#get data
bio_dat <- list(dat1, dat2, dat3)
bio_dat <- bio_dat[lengths(bio_dat) != 0]
bio_dat <- purrr::map2_df(
.x = bio_dat,
.y = 1:length(bio_dat),
.f =
~ get_biomass_data(.x) %>%
dplyr::mutate(model = paste0("model_", .y))
)
#plot data
ggplot2::ggplot(data = bio_dat,
ggplot2::aes(
x = year,
y = result,
color = model,
linetype = model)) +
ggplot2::geom_point() +
ggplot2::geom_line() +
ggplot2::facet_wrap(~data_type,nrow = 2)
}
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar)
zz
devtools::load_all90
devtools::load_all()
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar,gb_wn_ar)
gb_wf_ar
devtools::load_all()
zz <- make_bmsPlots2(gb_wf_ar,gb_wn_ar,gb_wn_ar)
zz
